# Copyright 2021 The ChromiumOS Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# Description
# This test records power related statistics while the system is idling.
# This version tests only the default state of the DUT for 20 minutes to make
# it easier for HW Eng to manually measure power with other hardware.

NAME = "power_Idle.default20min"
METADATA = {
    "contacts": ["cros-power-notifications@google.com"],
    "author": "puthik",
    "bug_component": "b:1361410",
    "criteria": "This test is a benchmark",
    "hw_agnostic": False,
}
ATTRIBUTES = ""
TEST_TYPE = "client"


args_dict = utils.args_to_dict(args)
pdash_note = args_dict.get('pdash_note', '')
job.run_test('power_Idle', default_only=True, force_discharge='optional',
             idle_secs=1200, tast_bundle_path=args_dict.get('tast_bundle_path'),
             pdash_note=pdash_note, tag=NAME.split('.')[1])
