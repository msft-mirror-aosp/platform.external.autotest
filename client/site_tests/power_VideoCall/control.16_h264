# Description
# This test simulates video call and record power related statistic.
# 
# Workload
# - Camera preview in 270p using VP8 codec.
# - 16 270p 24fps H264 video playback.
# 
# The run time is 3 minutes.

NAME = "power_VideoCall.16_h264"
METADATA = {
    "contacts": ["chromeos-platform-power@google.com"],
    "author": "puthik",
    "bug_component": "b:167191",
    "criteria": "This test is a benchmark test",
    "hw_agnostic": False,
}
ATTRIBUTES = ("")
TEST_TYPE = "client"

video_url = 'http://crospower.page.link/power_VideoCall_' + NAME.split('.')[1]

args_dict = utils.args_to_dict(args)
pdash_note = args_dict.get('pdash_note', '')
job.run_test('power_VideoCall', pdash_note=pdash_note, tag=NAME.split('.')[1],
             video_url=video_url, num_video=17, duration=180, seconds_period=5,
             multitask=False)
