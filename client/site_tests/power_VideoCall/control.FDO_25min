# Description
# This test simulates video call multitasking and record power related statistics
# while optionally force discharge.
# 
# Workload
# - Camera preview in 720p using VP9 codec.
# - Four 720p 30fps video playback with two VP8 videos and two VP9 videos.
# - Google Doc with emulated typing.
# 
# The version runs for 25 minutes as it is common duration of the video call.
# 
# "FDO" is short for "force discharge optional." Test will use EC command to
# force DUT to discharge. If it fails, then use AC as the power source.

NAME = "power_VideoCall.FDO_25min"
METADATA = {
    "contacts": ["chromeos-platform-power@google.com"],
    "author": "puthik",
    "bug_component": "b:167191",
    "criteria": "This test is a benchmark test",
    "hw_agnostic": False,
}
ATTRIBUTES = ("suite:power_daily")
TEST_TYPE = "client"

args_dict = utils.args_to_dict(args)
pdash_note = args_dict.get('pdash_note', '')
job.run_test('power_VideoCall', pdash_note=pdash_note, duration=1500,
             tag=NAME.split('.')[1], force_discharge='optional')
