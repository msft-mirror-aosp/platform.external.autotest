# Copyright 2014 The ChromiumOS Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

NAME = 'hardware_StorageWearoutDetect'
METADATA = {
    'contacts': ['chromeos-storage@google.com'],
    'bug_component': 'b:974567',
    'criteria': 'Detect wear out status of storage device',
    'hw_agnostic': False
}
AUTHOR = 'puthik'
PURPOSE = 'Detect wear out status of storage device'
TIME = 'SHORT'
TEST_CLASS = 'hardware'
TEST_TYPE = 'client'
PY_VERSION = 3
# This test measures the hardware health of individual DUTs. If it fails the DUT
# needs to be replaced. This test should not run in bvt-cq which will cause
# flakes due to random machine allocation when a DUT nears end of life (and slow
# bug filing/DUT replacement in lab).
ATTRIBUTES = "suite:bvt-perbuild, suite:distributed_lab_qual_bvt_shard1"
JOB_RETRIES = 2
PY_VERSION = 3

DOC = """
This test check wear out status for storage device available in SMART for SSD
and in ext_csd for eMMC version 5.0 or later. For previous version of eMMC,
it will be treat as data not available. The test will be failed if there is
SMART value is failing or eMMC wear out is in 90-100% band or higher.
"""

job.run_test('hardware_StorageWearoutDetect')
