AUTHOR = "puthik"
NAME = "power_VideoCall.16_vp8_multitask_2hr"
PURPOSE = "Simulates video call multitasking."
CRITERIA = "This test is a benchmark."
TIME = "LONG"
TEST_CATEGORY = "Benchmark"
TEST_CLASS = "power"
TEST_TYPE = "client"
ATTRIBUTES = "suite:crosbolt_perf_perbuild"

DOC = """
This test simulates video call multitasking and record power related statistic.

Workload
- Camera preview in 270p using VP8 codec.
- 16 270p 24fps VP8 video playback.

The run time is 2 hours.
"""

video_url = 'http://crospower.page.link/power_VideoCall_16_vp8'

args_dict = utils.args_to_dict(args)
pdash_note = args_dict.get('pdash_note', '')
job.run_test('power_VideoCall', pdash_note=pdash_note, tag=NAME.split('.')[1],
             video_url=video_url, num_video=17, duration=7200,
             seconds_period=20, multitask=True)
