# Copyright 2017 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

AUTHOR = 'ajanti'
NAME = 'android_ACTS.BluetoothPowerTest_AAC_aptX_HD_SBC'
TIME = 'LONG'
TEST_TYPE = 'Server'
ATTRIBUTES = 'suite:android_bluetooth_power'
DEPENDENCIES = 'bluetooth_power,ak_relay'

DOC = """
This test runs power tests for AAC, aptX, aptX-HD and SBC codecs
against a Bluetooth Power Test Beds.

"""
import common
from autotest_lib.server import utils


def run(machine):
    job.run_test('android_ACTS',
                 testbed=hosts.create_testbed(machine),
                 config_file='android1758-power-test-station-codecs.config',
                 test_tracker_project_id=11404,
                 testtracker_owner='android-comms-tvc@google.com',
                 test_file='bt_power_test_aac_aptx_hd_sbc',
                 additional_apks=[{'apk':'PMC.apk', 'package':'com.android.pmc', 'artifacts':'tests.zip'}],
                 additional_configs=['android1758-power-test-station-codecs-relay-station-1.config',
                                     'android1758-power-test-station-codecs-relay-station-4.config',
                                     'bt_music/Stereo-44kHz-16bits.wav',
                                     'bt_music/Stereo-96kHz-24bits.wav'],
                 acts_timeout=86400)


parallel_simple(run, machines)
