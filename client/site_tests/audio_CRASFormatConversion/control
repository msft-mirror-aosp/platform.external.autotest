# Copyright 2011 The ChromiumOS Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

NAME = 'audio_CRASFormatConversion'
METADATA = {
    "contacts": ["chromeos-audio-bugs@google.com"],
    "bug_component": "b:875558",
    "criteria": "Check that converting between different sample rates doesn't crash."
}
TEST_TYPE = 'client'
ATTRIBUTES = ''
DEPENDENCIES = 'audio_loopback_dongle'

DOC = """
NOTE: For this test to pass you need to have the line out looped back to mic-in.
This can be through a 3.5mm male-to-male cable or a loopback dongle depending on
your device.
"""

TEST_SAMPLE_RATES = [
        8000, 16000, 22050, 32000, 44100, 48000, 88200, 96000, 192000]

job.run_test(
        'audio_CRASFormatConversion',
        test_sample_rates=TEST_SAMPLE_RATES,
        constraints=['min_rms_value > 0.05'])
